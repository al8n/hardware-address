# WebAssembly / npm Package

This directory contains everything needed to build and publish the `hardware-address` package to npm.

## Directory Structure

```
wasm/
├── build-npm.sh           # Build script for npm package
├── package.json           # Development package.json (for scripts)
├── .npmignore             # Files to exclude from npm package
├── README.npm.md          # README for npm (copied to pkg/)
├── NPM_PUBLISH_GUIDE.md   # Publishing guide
└── pkg/                   # Generated by wasm-pack (gitignored)
    ├── hardware_address.js
    ├── hardware_address.d.ts       # Auto-generated TypeScript definitions
    ├── hardware_address_bg.wasm
    ├── hardware_address_bg.js
    ├── package.json                # Auto-generated from Cargo.toml
    ├── README.md
    └── LICENSE-*
```

## Quick Start

### Build the package:

```bash
./build-npm.sh
```

This builds the WebAssembly package and generates all necessary files in `./pkg/`.

### Test locally:

```bash
cd pkg
npm link
```

Then in a test project:
```bash
npm link hardware-address
```

### Publish to npm:

```bash
cd pkg
npm publish
```

## What Gets Auto-Generated

When you run `wasm-pack build`, it automatically generates:

1. **TypeScript definitions** (`*.d.ts`) - from your Rust code's types and doc comments
2. **package.json** - from your `Cargo.toml` metadata
3. **JavaScript bindings** - the glue code between JS and WASM

## Files in This Directory

- **`build-npm.sh`** - Convenience script that runs wasm-pack with the right flags
- **`package.json`** - Development-only, contains build scripts
- **`.npmignore`** - Excludes source files from the published package
- **`README.npm.md`** - Documentation for npm users (different from main README)
- **`NPM_PUBLISH_GUIDE.md`** - Step-by-step publishing instructions

## Development

The source code lives in `../src/`. This directory only contains build configuration and documentation.

To make changes:
1. Edit Rust code in `../src/`
2. Run `./build-npm.sh` to rebuild
3. Test the changes in `pkg/`
4. Publish when ready

## See Also

- [NPM_PUBLISH_GUIDE.md](./NPM_PUBLISH_GUIDE.md) - Detailed publishing instructions
- [README.npm.md](./README.npm.md) - User-facing documentation for npm
